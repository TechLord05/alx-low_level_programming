This is all about c functions and nested loops
